"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9900],{9900:(R,f,u)=>{u.r(f),u.d(f,{DoctorPageModule:()=>V});var p=u(6814),r=u(95),o=u(7027),d=u(9390),e=u(6689),Z=u(389);function b(n,s){1&n&&(e.TgZ(0,"div"),e._UZ(1,"img",13),e.qZA())}function v(n,s){1&n&&e._UZ(0,"img",14)}function I(n,s){if(1&n){const i=e.EpF();e.TgZ(0,"ion-item")(1,"ion-card",4),e.NdJ("click",function(){const l=e.CHM(i).$implicit,c=e.oxw();return e.KtG(c.onSelectPatient(l.patientId))}),e.TgZ(2,"ion-card-content")(3,"ion-grid")(4,"ion-row")(5,"ion-col",5)(6,"ion-avatar"),e.YNc(7,b,2,0,"div",6),e.YNc(8,v,1,0,"ng-template",null,7,e.W1O),e.qZA()(),e.TgZ(10,"ion-col",8)(11,"strong",9),e._uU(12),e.qZA(),e.TgZ(13,"p")(14,"strong"),e._uU(15,"Cel: "),e.qZA(),e._uU(16),e.qZA(),e.TgZ(17,"p")(18,"strong"),e._uU(19,"ID: "),e.qZA(),e._uU(20),e.qZA()(),e.TgZ(21,"ion-col",10),e._UZ(22,"ion-icon",11),e.qZA()()()()(),e._UZ(23,"ion-label",12),e.qZA()}if(2&n){const i=s.$implicit,t=e.MAs(9);e.xp6(7),e.Q6J("ngIf","F"===i.gender)("ngIfElse",t),e.xp6(5),e.AsE("",i.name," ",i.lastName,""),e.xp6(4),e.Oqu(i.phoneNumber),e.xp6(4),e.Oqu(i.documentNumber)}}let C=(()=>{var n;class s{constructor(t,a){this.patientService=t,this.router=a,this.data=[],this.results=[...this.data]}handleInput(t){const a=t.target.value.toLowerCase();this.results=this.data.filter(l=>l.name.toLowerCase().indexOf(a.toLowerCase())>-1||l.lastName.toLowerCase().indexOf(a.toLowerCase())>-1)}onSelectPatient(t){this.router.navigateByUrl(`doctor/patient/${t}`)}ngOnInit(){this.patientService.getAllPatient().then(t=>{console.log(t),this.data=t.data,this.results=t.data})}}return(n=s).\u0275fac=function(t){return new(t||n)(e.Y36(Z.e),e.Y36(d.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-doctor"]],decls:8,vars:4,consts:[[3,"translucent"],[3,"fullscreen"],[3,"debounce","ionInput"],[4,"ngFor","ngForOf"],["color","primary",1,"card-container",2,"width","28rem",3,"click"],["size","auto"],[4,"ngIf","ngIfElse"],["male",""],["size","8"],[2,"font-size","1rem"],[1,"arrow-col"],["name","chevron-forward-outline",2,"text-align","center"],["onclick","onSelectPatient"],["alt","Female avatar","src","../../assets/Avatar 1.png"],["alt","Male avatar","src","../../assets/Avatar 5.png"]],template:function(t,a){1&t&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"doctor"),e.qZA()()(),e.TgZ(4,"ion-content",1)(5,"ion-searchbar",2),e.NdJ("ionInput",function(c){return a.handleInput(c)}),e.qZA(),e.TgZ(6,"ion-list"),e.YNc(7,I,24,6,"ion-item",3),e.qZA()()),2&t&&(e.Q6J("translucent",!0),e.xp6(4),e.Q6J("fullscreen",!0),e.xp6(1),e.Q6J("debounce",1e3),e.xp6(2),e.Q6J("ngForOf",a.results))},dependencies:[p.sg,p.O5,o.BJ,o.PM,o.FN,o.wI,o.W2,o.jY,o.Gu,o.gu,o.Ie,o.Q$,o.q_,o.Nd,o.VI,o.wd,o.sr,o.j9],styles:[".arrow-col[_ngcontent-%COMP%]{text-align:center;top:1rem;font-size:2rem;left:1rem}.card-container[_ngcontent-%COMP%]:hover{background-color:#96bfdb;cursor:pointer}"]}),s})();var m=u(5861),x=u(7149),T=u(8166);let w=(()=>{var n;class s{constructor(t,a,l,c){this.route=t,this.toastController=a,this.authenticationService=l,this.doctorService=c,this.signupForm=new r.cw({name:new r.NI("",r.kI.required),userId:new r.NI(""),doctorId:new r.NI(0),lastname:new r.NI("",r.kI.required),username:new r.NI("",r.kI.required),email:new r.NI("",[r.kI.email,r.kI.required]),emailAddress:new r.NI(""),birthDate:new r.NI("",r.kI.required),documentType:new r.NI("",r.kI.required),documentNumber:new r.NI("",r.kI.required),phoneNumber:new r.NI("",r.kI.required),gender:new r.NI("",r.kI.required),role:new r.NI("Doctor"),specialist:new r.NI("",r.kI.required),password:new r.NI("",[r.kI.required,r.kI.pattern("(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[$@$!%*?&])[A-Za-zd$@$!%*?&].{8,}")]),confirmPassword:new r.NI("",r.kI.required)})}onSignUp(){var t=this;return(0,m.Z)(function*(){t.signupForm.valid?t.authenticationService.createUser(t.signupForm.value).then(function(){var l=(0,m.Z)(function*(c){if("Success"===c.status){const g=yield t.toastController.create({message:c.message,duration:2500,color:"success",position:"top"});sessionStorage.setItem("token",c.data.token),sessionStorage.setItem("userId",c.userId),t.signupForm.controls.userId.setValue(c.data.userId),t.signupForm.controls.emailAddress.setValue(t.signupForm.controls.email.value),t.doctorService.createDoctor(t.signupForm.value).then(function(){var L=(0,m.Z)(function*(j){yield g.present().then(()=>t.route.navigateByUrl("doctor"))});return function(j){return L.apply(this,arguments)}}())}else yield(yield t.toastController.create({message:c.message,duration:2500,color:"danger",position:"top"})).present()});return function(c){return l.apply(this,arguments)}}()):yield(yield t.toastController.create({message:"Please fill all form inputs!",duration:1500,color:"danger",position:"top"})).present()})()}ngOnInit(){}}return(n=s).\u0275fac=function(t){return new(t||n)(e.Y36(d.F0),e.Y36(o.yF),e.Y36(x.$),e.Y36(T.O))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-signup"]],decls:69,vars:2,consts:[[1,"ion-padding",3,"fullscreen"],["size","4.2"],["href","/login"],["name","chevron-back-outline"],[3,"formGroup","ngSubmit"],["label","Firstname","label-placement","floating","fill","outline","formControlName","name","placeholder","Enter text"],["label","Lastname","label-placement","floating","fill","outline","formControlName","lastname","placeholder","Enter text"],["label","Username","label-placement","floating","fill","outline","formControlName","username","placeholder","Enter text"],["label","Email address","label-placement","floating","fill","outline","formControlName","email","type","email","placeholder","Enter text"],["label","Date of birth","label-placement","floating","fill","outline","formControlName","birthDate","type","date","placeholder","Enter text"],["formControlName","documentType","label","Document Type","placeholder","Select document type"],["value","P"],["value","C"],["label","Numero de documento","label-placement","floating","fill","outline","formControlName","documentNumber","type","text","placeholder","Enter text"],["label","Numero de telefono","label-placement","floating","fill","outline","formControlName","phoneNumber","type","text","placeholder","Enter text"],["formControlName","specialist","label","Specialist","placeholder","Select specialist"],["value","Cardi\xf3logo"],["value","Neur\xf3logo"],["value","Cirujano Ortop\xe9dico"],["value","Gastroenter\xf3logo"],["value","Neum\xf3logo"],["value","Dermat\xf3logo"],["value","Obstetra/Ginec\xf3logo (OB/GYN)"],["value","Ur\xf3logo"],["value","Oftalm\xf3logo"],["value","Psiquiatra"],["formControlName","gender","label","Gender","placeholder","Select gender"],["value","M"],["value","F"],["label","Password","label-placement","floating","fill","outline","placeholder","Enter text","formControlName","password","type","password"],["label","Confirm  password","label-placement","floating","fill","outline","placeholder","Enter text","formControlName","confirmPassword","type","password"],["type","submit","expand","full","shape","round","color","primary"]],template:function(t,a){1&t&&(e.TgZ(0,"ion-content",0)(1,"ion-grid")(2,"ion-row")(3,"ion-col",1)(4,"a",2),e._UZ(5,"ion-icon",3),e.qZA()(),e.TgZ(6,"ion-col")(7,"ion-title"),e._uU(8," Sign up "),e.qZA()()()(),e.TgZ(9,"form",4),e.NdJ("ngSubmit",function(){return a.onSignUp()}),e._UZ(10,"ion-input",5)(11,"br")(12,"ion-input",6)(13,"br")(14,"ion-input",7)(15,"br")(16,"ion-input",8)(17,"br")(18,"ion-input",9)(19,"br")(20,"br"),e.TgZ(21,"ion-item")(22,"ion-select",10)(23,"ion-select-option",11),e._uU(24,"Passport"),e.qZA(),e.TgZ(25,"ion-select-option",12),e._uU(26,"C\xe9dula de identidad"),e.qZA()()(),e._UZ(27,"br")(28,"ion-input",13)(29,"br")(30,"br")(31,"ion-input",14)(32,"br"),e.TgZ(33,"ion-item")(34,"ion-select",15)(35,"ion-select-option",16),e._uU(36,"Cardi\xf3logo"),e.qZA(),e.TgZ(37,"ion-select-option",17),e._uU(38,"Neur\xf3logo"),e.qZA(),e.TgZ(39,"ion-select-option",18),e._uU(40,"Cirujano Ortop\xe9dico"),e.qZA(),e.TgZ(41,"ion-select-option",19),e._uU(42,"Gastroenter\xf3logo"),e.qZA(),e.TgZ(43,"ion-select-option",20),e._uU(44,"Neum\xf3logo"),e.qZA(),e.TgZ(45,"ion-select-option",21),e._uU(46,"Dermat\xf3logo"),e.qZA(),e.TgZ(47,"ion-select-option",22),e._uU(48,"Obstetra/Ginec\xf3logo (OB/GYN)"),e.qZA(),e.TgZ(49,"ion-select-option",23),e._uU(50,"Ur\xf3logo"),e.qZA(),e.TgZ(51,"ion-select-option",24),e._uU(52,"Oftalm\xf3logo"),e.qZA(),e.TgZ(53,"ion-select-option",25),e._uU(54,"Psiquiatra"),e.qZA()()(),e._UZ(55,"br"),e.TgZ(56,"ion-item")(57,"ion-select",26)(58,"ion-select-option",27),e._uU(59,"Masculine"),e.qZA(),e.TgZ(60,"ion-select-option",28),e._uU(61,"Feminine"),e.qZA()()(),e._UZ(62,"br")(63,"ion-input",29)(64,"br")(65,"ion-input",30)(66,"br"),e.TgZ(67,"ion-button",31),e._uU(68,"Sign Up"),e.qZA()()()),2&t&&(e.Q6J("fullscreen",!1),e.xp6(9),e.Q6J("formGroup",a.signupForm))},dependencies:[r._Y,r.JJ,r.JL,o.YG,o.wI,o.W2,o.jY,o.gu,o.pK,o.Ie,o.Nd,o.t9,o.n0,o.wd,o.QI,o.j9,r.sg,r.u]}),s})();var h=u(9314);function q(n,s){if(1&n&&(e.ynx(0),e.TgZ(1,"ion-card",7)(2,"ion-card-header",8)(3,"ion-card-title")(4,"ion-grid")(5,"ion-row")(6,"ion-col",9)(7,"ion-avatar"),e._UZ(8,"img",10),e.qZA()(),e.TgZ(9,"ion-col")(10,"strong",11),e._uU(11),e.qZA(),e._UZ(12,"br"),e.TgZ(13,"small",12)(14,"strong"),e._uU(15,"Dosage: "),e.qZA(),e._uU(16),e.qZA(),e.TgZ(17,"small",12)(18,"strong"),e._uU(19,"Route: "),e.qZA(),e._uU(20),e.qZA()()()()()(),e.TgZ(21,"ion-card-content")(22,"div",13)(23,"ion-grid")(24,"ion-row",14)(25,"ion-col",15)(26,"strong",16),e._uU(27,"Expiration date"),e.qZA(),e.TgZ(28,"p")(29,"small",17),e._uU(30),e.qZA()()()()()()()(),e.BQk()),2&n){const i=s.$implicit;e.xp6(8),e.Q6J("src",i.image,e.LSH),e.xp6(3),e.Oqu(i.name),e.xp6(5),e.Oqu(i.dosage),e.xp6(4),e.Oqu(i.route),e.xp6(10),e.Oqu(i.expirationDate)}}function N(n,s){if(1&n){const i=e.EpF();e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"Medications"),e.qZA(),e.TgZ(4,"ion-buttons",5)(5,"ion-button",6),e.NdJ("click",function(){e.CHM(i);const a=e.oxw(3);return e.KtG(a.setOpen(!1,[]))}),e._uU(6,"Close"),e.qZA()()()(),e.TgZ(7,"ion-content"),e.YNc(8,q,31,5,"ng-container",2),e.qZA()}if(2&n){const i=e.oxw(3);e.xp6(8),e.Q6J("ngForOf",i.selectedMedicationArray)}}function y(n,s){if(1&n){const i=e.EpF();e.ynx(0),e._UZ(1,"br"),e.TgZ(2,"ion-card")(3,"ion-card-content")(4,"ion-grid")(5,"ion-row")(6,"ion-col")(7,"strong"),e._uU(8,"prescribedDate"),e.qZA()(),e.TgZ(9,"ion-col"),e._uU(10),e.qZA()(),e.TgZ(11,"ion-row")(12,"ion-col")(13,"strong"),e._uU(14,"Instructions"),e.qZA()(),e.TgZ(15,"ion-col"),e._uU(16),e.qZA()(),e.TgZ(17,"ion-row")(18,"ion-col")(19,"strong"),e._uU(20,"Notes"),e.qZA()(),e.TgZ(21,"ion-col"),e._uU(22),e.qZA()(),e.TgZ(23,"ion-row")(24,"ion-col")(25,"strong"),e._uU(26,"Prescribed date"),e.qZA()(),e.TgZ(27,"ion-col"),e._uU(28),e.qZA()(),e.TgZ(29,"ion-row")(30,"ion-col")(31,"strong"),e._uU(32,"Status"),e.qZA()(),e.TgZ(33,"ion-col"),e._uU(34),e.qZA()()()(),e.TgZ(35,"ion-button",3),e.NdJ("click",function(){const l=e.CHM(i).$implicit,c=e.oxw(2);return e.KtG(c.setOpen(!0,l.prescribedMedications))}),e._uU(36,"View detail"),e.qZA()(),e.TgZ(37,"ion-modal",4),e.YNc(38,N,9,1,"ng-template"),e.qZA(),e.BQk()}if(2&n){const i=s.$implicit,t=e.oxw(2);e.xp6(10),e.Oqu(i.condition),e.xp6(6),e.Oqu(i.instructions),e.xp6(6),e.Oqu(i.notes),e.xp6(6),e.Oqu(i.prescribedDate),e.xp6(6),e.Oqu(i.status),e.xp6(3),e.Q6J("isOpen",t.isModalOpen)}}function A(n,s){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,y,39,6,"ng-container",2),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.Q6J("ngForOf",i.medications)}}function F(n,s){1&n&&(e.TgZ(0,"p"),e._uU(1,"There is no prescription to show."),e.qZA())}let U=(()=>{var n;class s{constructor(t){this.prescriptionService=t,this.patientId="",this.isModalOpen=!1,this.selectedMedicationArray=[],this.medications=[]}setOpen(t,a){this.isModalOpen=t,this.selectedMedicationArray=a,console.log(this.selectedMedicationArray)}ngOnInit(){console.log(this.patientId),this.prescriptionService.getAllPatientPrescription(this.patientId).then(t=>{this.medications=t.data,console.log(t)})}}return(n=s).\u0275fac=function(t){return new(t||n)(e.Y36(h.v))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-prescription"]],inputs:{patientId:"patientId"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["noPrescription",""],[4,"ngFor","ngForOf"],["type","submit","expand","full","shape","round","color","primary",3,"click"],[3,"isOpen"],["slot","end"],[3,"click"],[1,"ion-card-custom"],[1,"ion-card-header-custom"],["size","auto"],["alt","Silhouette of a person's head",3,"src"],[1,"white-text",2,"font-size","14px"],[1,"white-text",2,"font-size","12px"],[1,"detail-container"],[1,"detail-row"],["offset","1","size","auto"],[1,"detail-tittle"],[1,"white-text"]],template:function(t,a){if(1&t&&(e.YNc(0,A,2,1,"div",0),e.YNc(1,F,2,0,"ng-template",null,1,e.W1O)),2&t){const l=e.MAs(2);e.Q6J("ngIf",0!==a.medications.length)("ngIfElse",l)}},dependencies:[p.sg,p.O5,o.BJ,o.YG,o.Sm,o.PM,o.FN,o.Zi,o.Dq,o.wI,o.W2,o.jY,o.Gu,o.Nd,o.wd,o.sr,o.ki],styles:[".detail-container[_ngcontent-%COMP%]{border-radius:15px;background:#96BFDB;margin-top:-1.5rem;height:50px}.white-text[_ngcontent-%COMP%]{color:#fff}.ion-card-header-custom[_ngcontent-%COMP%]{margin-top:-.5rem}.detail-tittle[_ngcontent-%COMP%]{font-size:12px}.detail-row[_ngcontent-%COMP%]{margin-top:-.4rem;margin-left:1rem}.ion-card-custom[_ngcontent-%COMP%]{border-radius:15px;width:352px;height:151px;flex-shrink:0;margin-left:6rem;background:#69A6C9}"]}),s})();function P(n,s){if(1&n&&e._UZ(0,"app-prescription",8),2&n){const i=e.oxw(2);e.Q6J("patientId",i.patientId)}}function k(n,s){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"br"),e.TgZ(2,"div",5),e.YNc(3,P,1,1,"app-prescription",6),e.qZA(),e.TgZ(4,"ion-button",7),e._uU(5,"Add prescription"),e.qZA()()),2&n){const i=e.oxw();e.xp6(3),e.Q6J("ngIf",""!==i.patientId),e.xp6(1),e.MGl("href","doctor/prescription-form/",i.patientId,"")}}let S=(()=>{var n;class s{constructor(t){this.route=t,this.patientId="",this.selectedSegment="prescription"}segmentChanged(t){this.selectedSegment=t.detail.value}ngOnInit(){this.route.paramMap.subscribe(t=>{this.patientId=t.get("id")||""})}}return(n=s).\u0275fac=function(t){return new(t||n)(e.Y36(d.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-patient"]],decls:13,vars:1,consts:[["size","4.2"],["href","/doctor"],["name","chevron-back-outline"],["color","secondary","value","secondary",3,"ionChange"],[4,"ngIf"],[1,"scrollable-content"],[3,"patientId",4,"ngIf"],["expand","block","slot","bottom","color","warning",3,"href"],[3,"patientId"]],template:function(t,a){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-grid")(3,"ion-row")(4,"ion-col",0)(5,"a",1),e._UZ(6,"ion-icon",2),e.qZA()(),e.TgZ(7,"ion-col")(8,"ion-title"),e._uU(9," Prescription "),e.qZA()()()()()(),e.TgZ(10,"ion-content")(11,"ion-segment",3),e.NdJ("ionChange",function(c){return a.segmentChanged(c)}),e.qZA(),e.YNc(12,k,6,2,"div",4),e.qZA()),2&t&&(e.xp6(12),e.Q6J("ngIf","prescription"===a.selectedSegment))},dependencies:[p.O5,o.YG,o.wI,o.W2,o.jY,o.Gu,o.gu,o.Nd,o.cJ,o.wd,o.sr,o.QI,U],styles:[".scrollable-content[_ngcontent-%COMP%]{max-height:40rem;overflow-y:auto;height:600px}"]}),s})();var _=u(708),M=u(4826);let O=(()=>{var n;class s extends M.b{createPatient(t){return(0,_.n)(this.httpClient.post(`${this.backendServiceUrl}/Patient/Agregar`,t))}getAllMedication(){return(0,_.n)(this.httpClient.get(`${this.backendServiceUrl}/Medication`))}login(t){return(0,_.n)(this.httpClient.post(`${this.backendServiceUrl}/Authenticate/login`,t))}}return(n=s).\u0275fac=function(){let i;return function(a){return(i||(i=e.n5z(n)))(a||n)}}(),n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),s})();function J(n,s){if(1&n){const i=e.EpF();e.TgZ(0,"ion-item")(1,"ion-checkbox",7),e.NdJ("ionChange",function(a){e.CHM(i);const l=e.oxw();return e.KtG(l.checkboxChange(a))}),e._uU(2),e.qZA()()}if(2&n){const i=s.$implicit,t=e.oxw();e.xp6(1),e.Q6J("value",i)("checked",t.isChecked(i.name)),e.xp6(1),e.Oqu(i.name)}}let D=(()=>{var n;class s{constructor(){this.items=[],this.selectedItems=[],this.title="Select Items",this.selectionCancel=new e.vpe,this.selectionChange=new e.vpe,this.filteredItems=[],this.workingSelectedValues=[]}ngOnInit(){this.filteredItems=[...this.items],this.workingSelectedValues=[...this.selectedItems]}trackItems(t,a){return a.name}cancelChanges(){this.selectionCancel.emit()}confirmChanges(){console.log(this.workingSelectedValues),this.selectionChange.emit(this.workingSelectedValues)}searchbarInput(t){this.filterList(t.target.value)}filterList(t){if(void 0===t)this.filteredItems=[...this.items];else{const a=t.toLowerCase();this.filteredItems=this.items.filter(l=>l.name.toLowerCase().includes(a))}}isChecked(t){return this.workingSelectedValues.find(a=>a.name===t)}checkboxChange(t){const{checked:a,value:l}=t.detail;this.workingSelectedValues=a?[...this.workingSelectedValues,l]:this.workingSelectedValues.filter(c=>c!==l)}}return(n=s).\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-typeahead"]],inputs:{items:"items",selectedItems:"selectedItems",title:"title"},outputs:{selectionCancel:"selectionCancel",selectionChange:"selectionChange"},decls:15,vars:4,consts:[["slot","start"],[3,"click"],["slot","end"],[3,"ionInput"],["color","light",1,"ion-padding"],["id","modal-list",3,"inset"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"value","checked","ionChange"]],template:function(t,a){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),e.NdJ("click",function(){return a.cancelChanges()}),e._uU(4,"Cancel"),e.qZA()(),e.TgZ(5,"ion-title"),e._uU(6),e.qZA(),e.TgZ(7,"ion-buttons",2)(8,"ion-button",1),e.NdJ("click",function(){return a.confirmChanges()}),e._uU(9,"Done"),e.qZA()()(),e.TgZ(10,"ion-toolbar")(11,"ion-searchbar",3),e.NdJ("ionInput",function(c){return a.searchbarInput(c)}),e.qZA()()(),e.TgZ(12,"ion-content",4)(13,"ion-list",5),e.YNc(14,J,3,3,"ion-item",6),e.qZA()()),2&t&&(e.xp6(6),e.Oqu(a.title),e.xp6(7),e.Q6J("inset",!0),e.xp6(1),e.Q6J("ngForOf",a.filteredItems)("ngForTrackBy",a.trackItems))},dependencies:[p.sg,o.YG,o.Sm,o.nz,o.W2,o.Gu,o.Ie,o.q_,o.VI,o.wd,o.sr,o.w,o.j9],encapsulation:2}),s})();const Y=["modal"];function Q(n,s){if(1&n){const i=e.EpF();e.TgZ(0,"app-typeahead",18),e.NdJ("selectionChange",function(a){e.CHM(i);const l=e.oxw();return e.KtG(l.medicationSelectionChanged(a))})("selectionCancel",function(){e.CHM(i),e.oxw();const a=e.MAs(17);return e.KtG(a.dismiss())}),e.qZA()}if(2&n){const i=e.oxw();e.Q6J("items",i.medications)("selectedItems",i.selectedMedication)}}function G(n,s){if(1&n&&(e.TgZ(0,"ion-select-option",29),e._uU(1),e.qZA()),2&n){const i=s.$implicit;e.Q6J("value",i.value),e.xp6(1),e.hij(" ",i.label," ")}}function E(n,s){if(1&n&&(e.ynx(0),e.TgZ(1,"ion-card")(2,"ion-card-header")(3,"ion-card-title")(4,"ion-grid")(5,"ion-row")(6,"ion-col",21)(7,"ion-label")(8,"strong"),e._uU(9,"Medication: "),e.qZA(),e._uU(10),e.qZA()(),e.TgZ(11,"ion-col",22)(12,"ion-avatar"),e._UZ(13,"img",23),e.qZA()()()()()(),e.ynx(14,24),e.TgZ(15,"ion-card-content"),e._UZ(16,"ion-input",25)(17,"br"),e.TgZ(18,"ion-select",26),e.YNc(19,G,2,2,"ion-select-option",27),e.qZA(),e._UZ(20,"br")(21,"ion-input",28)(22,"br"),e.qZA(),e.BQk(),e.qZA(),e.BQk()),2&n){const i=s.$implicit,t=s.index,a=e.oxw(2);let l,c;e.xp6(10),e.Oqu(null==(l=i.get("name"))?null:l.value),e.xp6(3),e.Q6J("src",null==(c=i.get("image"))?null:c.value,e.LSH),e.xp6(1),e.Q6J("formGroupName",t),e.xp6(5),e.Q6J("ngForOf",a.administrationRoutes)}}function $(n,s){if(1&n&&(e.TgZ(0,"div"),e.ynx(1,19),e.YNc(2,E,23,4,"ng-container",20),e.BQk(),e.qZA()),2&n){const i=e.oxw();e.xp6(2),e.Q6J("ngForOf",i.medication_form_array.controls)}}const z=[{path:"",component:C},{path:"signup",component:w},{path:"patient/:id",component:S},{path:"prescription-form/:id",component:(()=>{var n;class s{constructor(t,a,l,c,g){this.toastController=t,this.medicationService=a,this.route=l,this.prescriptionService=c,this.router=g,this.patientId="",this.selectedMedicationText="No medication selected.",this.selectedMedication=[],this.medications=[],this.prescriptionForm=new r.cw({patientId:new r.NI("",r.kI.required),doctorId:new r.NI("",r.kI.required),prescribedMedications:new r.Oe([]),medication:new r.NI(""),quantity:new r.NI(""),condition:new r.NI("",r.kI.required),status:new r.NI("new",r.kI.required),notes:new r.NI("",r.kI.required),instructions:new r.NI("",r.kI.required),prescribedDate:new r.NI(this.getNewDate(),r.kI.required),expirationDate:new r.NI("",r.kI.required)}),this.administrationRoutes=[{label:"Oral",value:"oral"},{label:"Intravenosa",value:"intravenosa"},{label:"Intramuscular",value:"intramuscular"},{label:"Subcut\xe1nea",value:"subcutanea"}],this.dosageStrengths=[{label:"mg (miligramos)",value:"mg"},{label:"mcg (microgramos)",value:"mcgg"},{label:"g (gramos)",value:"g"},{label:"L (litros)",value:"litros"},{label:"kg (kilogramos)",value:"kg"},{label:"mL (mililitros)",value:"ml"},{label:"Tabletas",value:"tabletas"},{label:"C\xe1psulas",value:"capsulas"},{label:"Gotas",value:"gotas"},{label:"Cucharaditas",value:"cucharaditas"},{label:"Cucharadas",value:"cucharadas"},{label:"Inhalaciones (para inhaladores)",value:"inhalaciones"},{label:"Roc\xedos (para aerosoles nasales)",value:"rocios"},{label:"UI (Unidades Internacionales)",value:"ui"},{label:"Parche",value:"parche"},{label:"Supositorio",value:"supositorio"}]}formatData(t){if(1===t.length){const a=this.medications.find(l=>l.name===t[0].name);if(void 0!==a)return a.name}return`${t.length} medications`}medicationSelectionChanged(t){this.selectedMedication=t,this.selectedMedicationText=this.formatData(this.selectedMedication);for(let l=0;l<this.selectedMedication.length;l++){let c=new r.cw({medicationPrescribedId:new r.NI(0),medicationId:new r.NI(this.selectedMedication[l].medicationId),name:new r.NI(this.selectedMedication[l].name),image:new r.NI(this.selectedMedication[l].image),route:new r.NI("",r.kI.required),dosage:new r.NI("",r.kI.required),frequency:new r.NI("",r.kI.required),expirationDate:new r.NI(this.selectedMedication[l].expirationDate),lastTakenDate:new r.NI("0001-01-01T00:00:00")});this.medication_form_array.push(c)}console.log(this.prescriptionForm),this.modal.dismiss()}printwhatis(t,a){return t.controls[a]}get medication_form_array(){return this.prescriptionForm.get("prescribedMedications")}getNewDate(){const t=new Date,a=(t.getMonth()+1).toString().padStart(2,"0"),l=t.getDate().toString().padStart(2,"0");return`${t.getFullYear()}-${a}-${l}`}onSubmit(){var t=this;return(0,m.Z)(function*(){t.prescriptionForm.valid?t.prescriptionService.createPrescription(t.prescriptionForm.value).then(function(){var a=(0,m.Z)(function*(l){200===l.status&&(yield(yield t.toastController.create({message:l.message,duration:2500,color:"success",position:"top"})).present().finally(()=>t.router.navigateByUrl(`doctor/patient/${t.patientId}`))),console.log(l)});return function(l){return a.apply(this,arguments)}}()):yield(yield t.toastController.create({message:"Please fill all form inputs!",duration:2500,color:"danger",position:"top"})).present(),console.log(t.prescriptionForm)})()}ngOnInit(){this.medicationService.getAllMedication().then(t=>{this.medications=t.data}),this.route.paramMap.subscribe(t=>{this.patientId=t.get("id")||""}),this.prescriptionForm.controls.patientId.setValue(this.patientId),this.prescriptionForm.controls.doctorId.setValue(sessionStorage.getItem("doctorId"))}}return(n=s).\u0275fac=function(t){return new(t||n)(e.Y36(o.yF),e.Y36(O),e.Y36(d.gz),e.Y36(h.v),e.Y36(d.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-prescription-form"]],viewQuery:function(t,a){if(1&t&&e.Gf(Y,7),2&t){let l;e.iGM(l=e.CRH())&&(a.modal=l.first)}},decls:35,vars:8,consts:[[1,"ion-padding",3,"fullscreen"],["size","auto"],["fill","clear","href","/doctor"],["name","chevron-back-outline"],[1,"title-column"],[3,"formGroup","ngSubmit"],["lines","full"],["id","select-medications",3,"button","detail"],["slot","end","id","selected-medications"],["trigger","select-medications"],["modal",""],[1,"scrollable-content"],[4,"ngIf"],["label","Condition","label-placement","floating","fill","outline","formControlName","condition","type","text","placeholder","Enter text"],["label","Notes","labelPlacement","floating","fill","outline","placeholder","Enter text","formControlName","notes",3,"autoGrow"],["label","Instructions","labelPlacement","floating","fill","outline","placeholder","Enter text","formControlName","instructions",3,"autoGrow"],["label","Expiration date","label-placement","floating","fill","outline","formControlName","expirationDate","type","date","placeholder","Enter text"],["type","submit","expand","full","shape","round","color","primary"],["title","Medications",1,"ion-page",3,"items","selectedItems","selectionChange","selectionCancel"],["formArrayName","prescribedMedications"],[4,"ngFor","ngForOf"],[1,"medication-title-column"],[1,"avatar-column"],["alt","Silhouette of a person's head",3,"src"],[3,"formGroupName"],["label","Dosage","label-placement","floating","fill","outline","type","text","formControlName","dosage","placeholder","Enter dosage"],["formControlName","route","fill","outline","label","Route","placeholder","Select route"],[3,"value",4,"ngFor","ngForOf"],["label","Frequency","label-placement","floating","fill","outline","type","text","formControlName","frequency","placeholder","Enter frequency"],[3,"value"]],template:function(t,a){1&t&&(e.TgZ(0,"ion-content",0)(1,"ion-grid")(2,"ion-row")(3,"ion-col",1)(4,"ion-button",2),e._UZ(5,"ion-icon",3),e.qZA()(),e.TgZ(6,"ion-col",4)(7,"h2"),e._uU(8,"Create prescription"),e.qZA()()()(),e.TgZ(9,"form",5),e.NdJ("ngSubmit",function(){return a.onSubmit()}),e.TgZ(10,"ion-list",6)(11,"ion-item",7)(12,"ion-label"),e._uU(13,"Medication"),e.qZA(),e.TgZ(14,"div",8),e._uU(15),e.qZA()()(),e.TgZ(16,"ion-modal",9,10),e.YNc(18,Q,1,2,"ng-template"),e.qZA(),e._UZ(19,"br"),e.TgZ(20,"ion-list",6)(21,"div",11),e.YNc(22,$,3,1,"div",12),e.qZA()(),e._UZ(23,"br")(24,"br")(25,"ion-input",13)(26,"br")(27,"ion-textarea",14)(28,"br")(29,"ion-textarea",15)(30,"br")(31,"ion-input",16)(32,"br"),e.TgZ(33,"ion-button",17),e._uU(34,"Complete"),e.qZA()()()),2&t&&(e.Q6J("fullscreen",!1),e.xp6(9),e.Q6J("formGroup",a.prescriptionForm),e.xp6(2),e.Q6J("button",!0)("detail",!1),e.xp6(4),e.hij(" ",a.selectedMedicationText," "),e.xp6(7),e.Q6J("ngIf",a.selectedMedication.length>0),e.xp6(5),e.Q6J("autoGrow",!0),e.xp6(2),e.Q6J("autoGrow",!0))},dependencies:[p.sg,p.O5,r._Y,r.JJ,r.JL,o.BJ,o.YG,o.PM,o.FN,o.Zi,o.Dq,o.wI,o.W2,o.jY,o.gu,o.pK,o.Ie,o.Q$,o.q_,o.Nd,o.t9,o.n0,o.g2,o.ki,o.QI,o.j9,r.sg,r.u,r.x0,r.CE,D],styles:[".scrollable-content[_ngcontent-%COMP%]{max-height:300px;overflow-y:auto}ion-avatar[_ngcontent-%COMP%]{--border-radius: 4px;right:0}.avatar-column[_ngcontent-%COMP%]{text-align:-webkit-right}.medication-title-column[_ngcontent-%COMP%]{margin-top:2rem}.title-column[_ngcontent-%COMP%]{top:-.7rem;text-align:center}"]}),s})()}];let B=(()=>{var n;class s{}return(n=s).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.Bz.forChild(z),d.Bz]}),s})(),V=(()=>{var n;class s{}return(n=s).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[p.ez,r.u5,o.Pc.forRoot(),r.UX,B]}),s})()}}]);